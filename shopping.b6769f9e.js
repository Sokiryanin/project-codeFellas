function n(n,e,o,t){Object.defineProperty(n,e,{get:o,set:t,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=o.parcelRequired7c6;null==s&&((s=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var o={id:n,exports:{}};return t[n]=o,e.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,e){i[n]=e},o.parcelRequired7c6=s),s.register("kyEFX",(function(e,o){var t,i;n(e.exports,"register",(function(){return t}),(function(n){return t=n})),n(e.exports,"resolve",(function(){return i}),(function(n){return i=n}));var s={};t=function(n){for(var e=Object.keys(n),o=0;o<e.length;o++)s[e[o]]=n[e[o]]},i=function(n){var e=s[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),s("kyEFX").register(JSON.parse('{"3bDNW":"shopping.b6769f9e.js","1yVwl":"amazon.ae124200.png","bYYsk":"appleshop.78fce046.png","fR7nE":"icon-trash.b5140548.svg","gqSwi":"empty-shopping-list.9cc38e9e.png","8JNnL":"index.c254ce6f.js"}'));var r,a=s("2shzp"),l=s("krGWQ");r=new URL(s("kyEFX").resolve("1yVwl"),import.meta.url).toString();var c;c=new URL(s("kyEFX").resolve("bYYsk"),import.meta.url).toString();var d;d=new URL(s("kyEFX").resolve("fR7nE"),import.meta.url).toString();var p;function g(){const n=l.refs.booksInShoppingList,o=JSON.parse(window.localStorage.getItem("shoppingList"));if(o&&o.length>0){const t=o.map((({id:n,author:o,title:t,image:i,description:s,category:a,links:l})=>` \n      <li class="books-card" id=${n}>\n        <img\n          class="books-card__image"\n          src=${i}\n          alt="book image"\n        />\n\n        <div class="books-card__info">\n          <h2 class="books-card__title">${t}</h2>\n          <p class="books-card__category">${a}</p>\n          <p class="books-card__description">${s}</p>\n\n          <div class="wrapper">\n            <p class="books-card__author">${o}</p>\n            <div class="wrapper-links">\n              <a href=${l[0].url} target="_blank" class="books-card__link">\n                <img src=${e(r)} alt="Amazon" class="books-card__image-amazon" />\n              </a>\n\n              <a href=${l[1].url} target="_blank" class="books-card__link">\n                <img src=${e(c)} alt="Apple books" class="books-card__image-appleBooks" />\n              </a>\n            </div>\n          </div>\n        </div>\n        <button type="button" class="button__delete" id=${n}>\n          <img class="button__icon" alt="icon delete" src=${e(d)} id=${n}></img>\n        </button>\n      </li>\n    `)).join("");n.innerHTML=t}else{const o=`\n    <div class="empty-shoping-list">\n      <p class="empty-shoping-list__text">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <img\n        src=${e(p)}\n        alt="Four books"\n        class="empty-shoping-list__image"\n      />\n    </div>\n    `;n.innerHTML="",l.refs.titleShoppingList.insertAdjacentHTML("afterend",o)}}p=new URL(s("kyEFX").resolve("gqSwi"),import.meta.url).toString(),async function(){try{const{data:n}=await a.default.get("https://books-backend.p.goit.global/books/top-books"),e=n[1].books,o=n[2].books,t=[...e,...o].reduce(((n,e)=>(n.push({id:e._id,title:e.title,author:e.author,image:e.book_image,description:e.description,category:e.list_name,links:e.buy_links}),n)),[]);window.localStorage.setItem("shoppingList",JSON.stringify(t))}catch(n){console.log(n)}}(),g(),(l=s("krGWQ")).refs.booksInShoppingList.addEventListener("click",(function(n){if("BUTTON"===n.target.nodeName||"IMG"===n.target.nodeName){const e=JSON.parse(window.localStorage.getItem("shoppingList")),o=n.target.id,t=e.filter((n=>n.id!==o));window.localStorage.setItem("shoppingList",JSON.stringify(t)),g()}}));
//# sourceMappingURL=shopping.b6769f9e.js.map
