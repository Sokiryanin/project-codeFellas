!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){a[t]=e},e.parcelRequired7c6=o),o("ekC86");var c=o("bpxeT"),r=o("2TvXO"),s=o("dIxxU"),i="https://books-backend.p.goit.global/books/category-list",l="https://books-backend.p.goit.global/books/top-books",u="https://books-backend.p.goit.global/books/category";function p(){return(p=t(c)(t(r).mark((function e(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.default.get(i).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function d(){return _.apply(this,arguments)}function _(){return(_=t(c)(t(r).mark((function e(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.default.get(l).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function f(t){return g.apply(this,arguments)}function g(){return(g=t(c)(t(r).mark((function e(n){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.default.get("".concat(u,"?category=").concat(n)).then((function(t){return console.log(t.data),t.data})));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}f("Advice How-To and Miscellaneous");var b=o("4Nugj"),h=(b=o("4Nugj")).refs.selectedCattegory;function v(t){f(t).then((function(t){var e,n,a,o,c;a=m((n=t)[0].list_name),o='<h2 class="category__title">'.concat(a,"</h2>"),c=n.map((function(t){return'<li class="category__item" data-id="'.concat(t._id,'">\n      <div class="category__item-wrap">\n        <div class="category__img-container">\n        <img class="category__item-img" src="').concat(t.book_image,' "/>\n        <p class="category__pop-up-text">\n                    quick view \n                  </p>\n        </div>\n        <p class="category__item-title">').concat(t.title,'</p>\n        <p class="category__item-author">').concat(t.author,"</p>\n        </li>")})).join(""),e='<div class="select-category-cont">'.concat(o,'<ul class="category__list">').concat(c,"</ul></div>"),h.innerHTML=e})).catch(console.log)}function m(t){var e=t.split(" "),n=e.length,a="";if(n>1){for(var o=0;o<=n-2;o+=1)a+=" "+e[o];a+=" "+"<span class=title__last-word>".concat(e[n-1],"<span>")}else a="<span class=title__last-word>".concat(e[0],"<span>");return a}function y(t){var e=t.list_name,n=t.books,a='<h3 class="best-category__item-title">'.concat(e,"</h3>"),o=n.map((function(t){return' <li class="best-book__item" data-id="'.concat(t._id,'">\n      <div class="best-book__wrap">\n    <div class="best-book__img-container">\n      <img class="best-book__img" src="').concat(t.book_image,'" alt="').concat(t.title,'"/>\n      <p class="book__pop-up-text">\n                quick view \n              </p>\n              </div>\n      <h3 class="best-book__title">').concat(t.title,'</h3>\n      <p class="best-book__author">').concat(t.author,"</p>\n      </div>\n    </li>\n    ")})).join(""),c='<button class="seemore__btn" type="button" data-id="'.concat(e,'">See more</button>');return'<li class="best-category__item">'.concat(a,'<ul class="best-book__list">').concat(o,"</ul>").concat(c,"</li>")}function k(){d().then((function(t){var e,n='<div class=" best-category__container"><h2 class="best-category__title title-category__list">\n        '.concat(m("Best Sellers Books"),'</h2><ul class="best-category__list">').concat(t.map(y).join(""),"</ul></div>");e=n,b.refs.selectedCattegory.innerHTML=e})).catch((function(t){console.log("Помилка при отриманні даних з сервера:",t)}))}k(),b.refs.selectedCattegory.addEventListener("click",(function(t){"BUTTON"===t.target.nodeName&&v(t.target.dataset.id)}));var w=(b=o("4Nugj")).refs.categoriesList;(function(){return p.apply(this,arguments)})().then((function(t){w.insertAdjacentHTML("beforeend",t.map((function(t){var e=t.list_name;return'\n    <li class="categories__item">\n         <a href="" class="categories__link categories__link-js"\n        ><span>'.concat(e,"</span></span></spa></a>\n        </li>\n    ")})).join(""))})),w.addEventListener("click",(function(t){if(t.preventDefault(),"SPAN"!==t.target.nodeName)return;document.querySelector(".current").classList.remove("current");var e=t.target;e.classList.add("current"),"All categories"===e.textContent?k():v(t.target.textContent)})),o("xpKCW")}();
//# sourceMappingURL=index.44d7508a.js.map
