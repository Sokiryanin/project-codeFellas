var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},s={},o=t.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in s){var o=s[t];delete s[t];var n={id:t,exports:{}};return e[t]=n,o.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){s[t]=e},t.parcelRequired7c6=o),o("8BGGW");var n=o("2shzp");async function a(){return n.default.get("https://books-backend.p.goit.global/books/top-books").then((t=>t.data))}async function i(t){return n.default.get(`https://books-backend.p.goit.global/books/category?category=${t}`).then((t=>(console.log(t.data),t.data)))}i("Advice How-To and Miscellaneous");var l=o("krGWQ");const c=(l=o("krGWQ")).refs.selectedCattegory;function r(t){i(t).then((t=>{var e;e=function(t){const e=`<h2 class="category__title">${d(t[0].list_name)}</h2>`,s=t.map((t=>`<li class="category__item" data-id="${t._id}">\n      <div class="category__item-wrap">\n        <div class="category__img-container">\n        <img class="category__item-img" src="${t.book_image} "/>\n        <p class="category__pop-up-text">\n                    quick view \n                  </p>\n        </div>\n        <p class="category__item-title">${t.title}</p>\n        <p class="category__item-author">${t.author}</p>\n        </li>`)).join("");return`<div class="select-category-cont">${e}<ul class="category__list">${s}</ul></div>`}(t),c.innerHTML=e})).catch(console.log)}function d(t){const e=t.split(" "),s=e.length;let o="";if(s>1){for(let t=0;t<=s-2;t+=1)o+=" "+e[t];o+=` <span class=title__last-word>${e[s-1]}<span>`}else o=`<span class=title__last-word>${e[0]}<span>`;return o}function _(t){const{list_name:e,books:s}=t;return`<li class="best-category__item">${`<h3 class="best-category__item-title">${e}</h3>`}<ul class="best-book__list">${s.map((t=>` <li class="best-book__item" data-id="${t._id}">\n      <div class="best-book__wrap">\n    <div class="best-book__img-container">\n      <img class="best-book__img" src="${t.book_image}" alt="${t.title}"/>\n      <p class="book__pop-up-text">\n                quick view \n              </p>\n              </div>\n      <h3 class="best-book__title">${t.title}</h3>\n      <p class="best-book__author">${t.author}</p>\n      </div>\n    </li>\n    `)).join("")}</ul>${`<button class="seemore__btn" type="button" data-id="${e}">See more</button>`}</li>`}function g(){a().then((t=>{const e=`<div class=" best-category__container"><h2 class="best-category__title title-category__list">\n        ${d("Best Sellers Books")}</h2><ul class="best-category__list">${t.map(_).join("")}</ul></div>`;var s;s=e,l.refs.selectedCattegory.innerHTML=s})).catch((t=>{console.log("Помилка при отриманні даних з сервера:",t)}))}g(),l.refs.selectedCattegory.addEventListener("click",(t=>{"BUTTON"===t.target.nodeName&&r(t.target.dataset.id)}));const u=(l=o("krGWQ")).refs.categoriesList;(async function(){return n.default.get("https://books-backend.p.goit.global/books/category-list").then((t=>t.data))})().then((t=>{u.insertAdjacentHTML("beforeend",t.map((({list_name:t})=>`\n    <li class="categories__item">\n         <a href="" class="categories__link categories__link-js"\n        ><span>${t}</span></span></spa></a>\n        </li>\n    `)).join(""))})),u.addEventListener("click",(function(t){if(t.preventDefault(),"SPAN"!==t.target.nodeName)return;document.querySelector(".current").classList.remove("current");const e=t.target;e.classList.add("current"),"All categories"===e.textContent?g():r(t.target.textContent)})),o("dTazW");
//# sourceMappingURL=index.ce34c85d.js.map
